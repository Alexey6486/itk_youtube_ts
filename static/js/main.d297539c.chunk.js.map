{"version":3,"sources":["components/footer/style.module.css","components/profile/style.module.css","components/dialogs/messages/style.module.css","components/dialogs/messages/messagesBox/style.module.css","components/dialogs/messages/newMessage/style.module.css","components/dialogs/usersList/style.module.css","assets/images/post/user.png","assets/images/loading.svg","components/common/pagination/Pagination.module.css","components/profile/profileData/style.module.css","components/profile/postsBlock/posts/post/style.module.css","serviceWorker.ts","components/footer/Footer.tsx","components/aside/Aside.tsx","components/profile/profileData/profileStatus/ProfileStatus.tsx","components/profile/profileData/ProfileData.tsx","api/api.ts","components/profile/account-reducer.tsx","components/profile/profileData/ProfileDataContainer.tsx","components/profile/profile-reducer.tsx","utils/validators/validators.ts","components/common/formsControl/FormsControl.tsx","components/profile/postsBlock/addpost/AddPost.tsx","components/profile/postsBlock/addpost/AddPostContainer.tsx","components/profile/postsBlock/posts/post/Post.tsx","components/profile/postsBlock/posts/Posts.tsx","components/profile/postsBlock/posts/PostsContainer.tsx","components/profile/Profile.tsx","components/login/auth-reducer.tsx","components/profile/ProfileContainer.tsx","components/dialogs/messages/messagesBox/message/Message.tsx","components/dialogs/messages/messagesBox/MessagesBox.tsx","components/dialogs/messages/messagesBox/MessagesBoxContainer.tsx","redux/dialogs-reducer.tsx","components/dialogs/messages/newMessage/NewMessage.tsx","components/dialogs/messages/newMessage/NewMessageContainer.tsx","components/dialogs/messages/Messages.tsx","components/dialogs/usersList/userBlock/UserBlock.tsx","components/dialogs/usersList/UsersList.tsx","components/dialogs/usersList/UserListContainer.tsx","components/dialogs/Dialogs.tsx","components/users/users-reducer.tsx","components/common/pagination/Pagination.tsx","components/users/Users.tsx","components/common/loadingIcon/LoadingIcon.tsx","components/users/users-selectors.ts","components/users/UsersContainer.tsx","components/news/News.tsx","components/news/news-reducer.ts","components/news/NewsContainer.tsx","components/userProfile/UserProfile.tsx","redux/userProfile-reducer.ts","components/userProfile/UserProfileContainer.tsx","components/header/Header.tsx","components/header/headerContainer.tsx","components/login/Login.tsx","redux/initReducer.ts","App.tsx","redux/redux-store.tsx","index.tsx","components/login/login.module.css","components/aside/style.module.css","components/dialogs/messages/messagesBox/message/style.module.css","App.module.css","components/users/style.module.css","components/header/style.module.css","components/dialogs/style.module.css","components/news/News.module.css","components/profile/profileData/profileStatus/style.module.css","components/profile/postsBlock/addpost/style.module.css","components/common/formsControl/FormsControl.module.css","components/profile/postsBlock/posts/style.module.css","components/dialogs/usersList/userBlock/style.module.css"],"names":["module","exports","Boolean","window","location","hostname","match","Footer","className","styles","footer","Aside","aside","to","activeClassName","active","ProfileStatus","state","editMode","status","props","onChangeStatusHandler","e","currentTarget","setState","value","onDoubleClickHandler","onBlurHandler","updateStatus","prevProps","prevState","snapshot","this","s","inputStatus","onBlur","onChange","autoFocus","onDoubleClick","Component","ProfileData","profileData","profileData__title","profileDataContent","profileDataContent__avatar","xmlns","id","viewBox","d","profileDataContent__info","profileDataContent__name","userName","profileDataContent__position","profileStatusWrap","instance","axios","create","baseURL","withCredentials","headers","usersApi","getUsers","currentPage","pageSize","get","then","res","data","followUserAxios","userId","post","unfollowUserAxios","delete","profileApi","accountApi","put","resultCode","authApi","email","password","rememberMe","type","initState","myStatus","ProfileDataContainer","updateStatusThunkCreator","myId","getMyStatusThunkCreator","toString","login","connect","accountReducer","auth","payload","dispatch","a","posts","message","likes","postId","requiredField","maxLengthCreator","maxLength","length","Element","input","meta","err","touched","error","formGroup","Textarea","Input","AddPost","useDispatch","addPostTC","postsTitle","addPostBlock","PostReduxForm","onSubmit","formData","reset","reduxForm","form","handleSubmit","Field","component","name","placeholder","validate","AddPostContainer","addPostsAC","Post","postItem","likesBlock","likesBlock__thumbImg","removeBtn","onClick","removePostAC","postItem__avatar","postItem__inner","postItem__author","postItem__text","Posts","postsMap","map","key","postsBlock","PostsContainer","profilePage","Profile","useSelector","isAuth","profileBlock","setAuthUserData","authThunkCreator","ProfileContainer","Message","React","memo","message__avatar","message__content","message__author","author","message__text","MessagesBox","console","log","messagesInChatRoomMap","messages","messagesBox","MessagesBoxContainer","messagesPage","messagesInChatRoom","usersInChatRoom","dialogUrl","textareaInput","dialogsReducer","action","newEntry","newArray","text","NewMessage","addMessageThunkCreator","newMessageBlock","MessageReduxForm","NewMessageContainer","addMsgActionCreator","Messages","messagesBlock","UserBlock","userBlock","UsersList","usersInChatRoomMap","user","usersList","UsersListContainer","Dialogs","dialogsBlock","dialogsBlockTitle","dialogsContent","followUser","unfollowUser","setUsers","users","setLoading","isFetching","followingInProgress","totalUsersCount","disabledIdArr","userDataChanger","usersArray","objPropName","changedObj","followUnfollowFlow","apiMethod","actionCreator","Pagination","totalItemsCount","changePageFunction","portionSize","pagesCount","Math","ceil","pages","i","push","onPageChange","page","useState","portionCount","setPortionCount","firstElNumInPortion","lastElNumInPortion","portionsTotal","pagesMap","filter","item","lastPage","pagBtnWrap","paginationDots","portionWithLastPage","firstPage","portionWithFirstPage","paginationWrap","paginationArrowBtn","Users","followUserApi","unfollowUserApi","usersMap","friend","followed","followBtn","userWrap","src","photos","small","userPhoto","alt","userDataField","alert","disabled","some","LoadingIcon","loadingIcon","getPageSize","usersPage","getTotalUsersCount","getCurrentPage","getIsFetching","getDisabledIdArr","getIsAuth","getUsersSuperSelector","createSelector","u","UsersContainer","getUsersOnPageChangeThunkCreator","followUserThunkCreator","unfollowUserThunkCreator","getUsersThunkCreator","bind","items","totalCount","News","addNews","inputValue","setInputValue","mapState","newsItem","href","url","target","rel","follow","newsWrap","addNewsBlock","onChangeHandler","trim","initialState","newsReducer","stateCopy","NewsContainer","newsPage","v1","addNewsAC","UserProfile","lookingForAJob","fullName","aboutMe","userData","lookingForAJobDescription","contacts","github","vk","facebook","instagram","twitter","website","youtube","mainLink","large","userStatus","userProfile","UserProfileContainer","params","getProfileThunkCreator","getStatusThunkCreator","WithURLDataContainerComponent","withRouter","userProfilePage","Header","onLogoutClickHandler","header","headerContent","headerContent__logo","headerContent__loginBlock","HeaderContainer","logoutThunkCreator","LoginReduxForm","loginForm","loginFormGroup","htmlFor","loginFormSubmit","loginThunkCreator","stopSubmit","_error","loginFormTitle","init","App","initAppTC","wrapper","mainContent","contentInner","path","render","compose","initApp","promise","Promise","all","reducers","combineReducers","followArr","newFollowArr","unfollowArr","newUnfollowArr","stateUpdateStatusCopy","stateGetStatusCopy","formReducer","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.d297539c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"style_footer__1DUNO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileBlock\":\"style_profileBlock__Mt0RF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messagesBlock\":\"style_messagesBlock__7lQl1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messagesBox\":\"style_messagesBox__WaA0L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newMessageBlock\":\"style_newMessageBlock__39-rM\",\"err\":\"style_err__2EjLR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersList\":\"style_usersList__ID2JP\"};","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/loading.a09689b4.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationWrap\":\"Pagination_paginationWrap__2nzb0\",\"currentPage\":\"Pagination_currentPage__3W-T-\",\"paginationArrowBtn\":\"Pagination_paginationArrowBtn__34JND\",\"paginationDots\":\"Pagination_paginationDots__33AJ6\",\"pagBtnWrap\":\"Pagination_pagBtnWrap__37fiY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileData\":\"style_profileData__m23OO\",\"profileData__title\":\"style_profileData__title__1hPUA\",\"profileDataContent\":\"style_profileDataContent__3nOLq\",\"profileDataContent__avatar\":\"style_profileDataContent__avatar__1Q2l7\",\"profileDataContent__name\":\"style_profileDataContent__name__2jmz2\",\"profileDataContent__position\":\"style_profileDataContent__position__2J66K\",\"profileStatusWrap\":\"style_profileStatusWrap__1hLxV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postItem\":\"style_postItem__26l2q\",\"likesBlock\":\"style_likesBlock__h1HuC\",\"likesBlock__thumbImg\":\"style_likesBlock__thumbImg__13eOq\",\"postItem__avatar\":\"style_postItem__avatar__27OBI\",\"postItem__inner\":\"style_postItem__inner__B6jiI\",\"postItem__author\":\"style_postItem__author__31HwD\",\"postItem__text\":\"style_postItem__text__3PwKI\",\"removeBtn\":\"style_removeBtn__Wztv9\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport styles from './style.module.css'\r\n\r\nfunction Footer() {\r\n    return (\r\n        <>\r\n            <footer className={styles.footer}>\r\n                <div className=\"container\">\r\n                    Footer\r\n                </div>\r\n            </footer>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nimport styles from './style.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nfunction Aside() {\r\n    return (\r\n        <div className={styles.aside}>\r\n            <nav>\r\n                <ul>\r\n                    <li>\r\n                        <NavLink to=\"/profile\" activeClassName={styles.active}>Profile</NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to=\"/dialogs\" activeClassName={styles.active}>Chat room</NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to=\"/users\" activeClassName={styles.active}>Users</NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to=\"/news\" activeClassName={styles.active}>News</NavLink>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Aside;","import React, {ChangeEvent, Component} from \"react\";\r\nimport s from './style.module.css';\r\n\r\ntype PropsType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nexport class ProfileStatus extends Component<PropsType> {\r\n\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status,\r\n    };\r\n\r\n    componentDidUpdate(prevProps: Readonly<PropsType>, prevState: Readonly<{}>, snapshot?: any) {\r\n        if (prevProps.status !== this.props.status) {\r\n            this.setState({\r\n                status: this.props.status\r\n            });\r\n        }\r\n    }\r\n\r\n    onChangeStatusHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.currentTarget) {\r\n            this.setState({\r\n                status: e.currentTarget.value\r\n            });\r\n        }\r\n    }\r\n    onDoubleClickHandler = () => {\r\n        this.setState({\r\n            editMode: true\r\n        });\r\n    };\r\n    onBlurHandler = () => {\r\n        this.setState({\r\n            editMode: false\r\n        });\r\n        this.props.updateStatus(this.state.status);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {\r\n                    !this.state.editMode ? <div className={s.status}\r\n                                                onDoubleClick={this.onDoubleClickHandler}>{this.props.status}</div>\r\n\r\n                                         : <input className={s.inputStatus}\r\n                                                  value={this.state.status}\r\n                                                  onBlur={this.onBlurHandler}\r\n                                                  onChange={(e) => this.onChangeStatusHandler(e)}\r\n                                                  autoFocus/>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n}","import React, {Component} from 'react';\r\nimport styles from './style.module.css'\r\nimport {ProfileStatus} from \"./profileStatus/ProfileStatus\";\r\n\r\ntype PropsType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    userName: string | null\r\n}\r\n\r\nexport class ProfileData extends Component<PropsType> {\r\n\r\n    render() {\r\n        return (\r\n            <div className={styles.profileData}>\r\n                <div className={styles.profileData__title}>\r\n                    <h3>PROFILE</h3>\r\n                </div>\r\n                <div className={styles.profileDataContent}>\r\n                    <div className={styles.profileDataContent__avatar}>\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Outline\" viewBox=\"0 0 512 512\">\r\n                            <path\r\n                                d=\"M68.169,447.023C71.835,449.023,159.075,496,256,496c105.008,0,184.772-47.134,188.116-49.14A8,8,0,0,0,448,440c0-64.593-19.807-123.7-55.771-166.442-25.158-29.9-56.724-50.28-91.539-59.662a104,104,0,1,0-89.38,0c-34.815,9.382-66.381,29.765-91.539,59.662C83.807,316.3,64,375.407,64,440A8,8,0,0,0,68.169,447.023ZM168,120a88,88,0,1,1,88,88A88.1,88.1,0,0,1,168,120ZM132.013,283.859C164.5,245.258,208.528,224,256,224s91.5,21.258,123.987,59.859c32.681,38.838,51.056,92.48,51.977,151.474C414.845,444.6,343.708,480,256,480c-81.11,0-157.5-35.609-175.96-44.856C81,376.223,99.367,322.656,132.013,283.859Z\"/>\r\n                        </svg>\r\n                    </div>\r\n                    <div className={styles.profileDataContent__info}>\r\n                        <div className={styles.profileDataContent__name}>\r\n                            <h2>{this.props.userName}</h2>\r\n                        </div>\r\n                        <div className={styles.profileDataContent__position}>\r\n                            <h3>WEB Developer</h3>\r\n                        </div>\r\n                        <div className={styles.profileStatusWrap}>\r\n                            Status:<ProfileStatus status={this.props.status} updateStatus={this.props.updateStatus}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\"API-KEY\": \"22146b81-8dec-43d8-8ad7-26ad8ffa196f\"}\r\n});\r\n\r\nexport const usersApi = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return instance\r\n                .get(`users?page=${currentPage}&count=${pageSize}`)\r\n                .then(res => res.data)\r\n    },\r\n    followUserAxios(userId: number) {\r\n        return instance\r\n                .post(`follow/${userId}`)\r\n                .then(res => res.data)\r\n    },\r\n    unfollowUserAxios(userId: number) {\r\n        return instance\r\n                .delete(`follow/${userId}`)\r\n                .then(res => res.data)\r\n    },\r\n};\r\nexport const profileApi = {\r\n    getProfile(userId: string) {\r\n        return instance\r\n            .get(`profile/${userId}`)\r\n            .then(res => res)\r\n    },\r\n    getStatus(userId: string) {\r\n        return instance\r\n            .get(`profile/status/${userId}`)\r\n            .then(res => {\r\n                return res\r\n            })\r\n    },\r\n}\r\nexport const accountApi = {\r\n    updateStatus(status: string) {\r\n        return instance\r\n            .put(`profile/status`, {\r\n                status\r\n            })\r\n            .then(res => {\r\n                if (res.data.resultCode === 0) {\r\n                    return res\r\n                }\r\n            })\r\n    },\r\n}\r\nexport const authApi = {\r\n    authMe() {\r\n        return axios.get(`https://social-network.samuraijs.com/api/1.0/auth/me`, {\r\n                    withCredentials: true\r\n                })\r\n                .then(res => res);\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false) {\r\n        return instance\r\n            .post(`auth/login`, {\r\n                email,\r\n                password,\r\n                rememberMe,\r\n            })\r\n            .then(res => {\r\n                return res.data;\r\n            })\r\n\r\n    },\r\n    logout() {\r\n        return instance\r\n            .delete(`auth/login`)\r\n            .then(res => {\r\n                return res.data;\r\n            })\r\n\r\n    },\r\n};\r\n","import {accountApi, profileApi} from \"../../api/api\";\r\n\r\nexport type AccountStateType = {\r\n    myStatus: {\r\n        status: string\r\n    }\r\n}\r\n\r\nconst UPDATE_STATUS = 'UPDATE_STATUS';\r\nconst GET_MY_STATUS = 'GET-MY-STATUS';\r\n\r\ntype UpdateStatusACType = {\r\n    type: typeof UPDATE_STATUS\r\n    status: string\r\n}\r\ntype GetMyStatusACType = {\r\n    type: typeof GET_MY_STATUS\r\n    status: string\r\n}\r\n\r\nconst updateStatus = (status: string): UpdateStatusACType => {\r\n    return {\r\n        type: UPDATE_STATUS,\r\n        status\r\n    }\r\n}\r\nexport const getMyStatus = (status: string): GetMyStatusACType => {\r\n    return {\r\n        type: GET_MY_STATUS,\r\n        status\r\n    }\r\n};\r\n\r\ntype ActionCreatorType = UpdateStatusACType | GetMyStatusACType;\r\ntype DispatchType = (action: ActionCreatorType) => void;\r\n\r\nconst initState: AccountStateType = {\r\n    myStatus: {\r\n        status: \"\"\r\n    },\r\n}\r\n\r\nexport const accountReducer = (state: AccountStateType = initState, action: ActionCreatorType) => {\r\n    switch (action.type) {\r\n        case UPDATE_STATUS:\r\n            const stateUpdateStatusCopy = {...state};\r\n            stateUpdateStatusCopy.myStatus.status = action.status;\r\n            return stateUpdateStatusCopy;\r\n        case GET_MY_STATUS:\r\n            const stateGetStatusCopy = {...state}\r\n            stateGetStatusCopy.myStatus.status = action.status;\r\n            return {...stateGetStatusCopy};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const updateStatusThunkCreator = (status: string) => async (dispatch: DispatchType) => {\r\n    const res = await accountApi.updateStatus(status);\r\n    dispatch(updateStatus(status));\r\n};\r\nexport const getMyStatusThunkCreator = (userId: string) => async (dispatch: DispatchType) => {\r\n    const res = await profileApi.getStatus(userId);\r\n    dispatch(getMyStatus(res.data));\r\n};","import {StateType} from \"../../../redux/store\";\r\nimport {ProfileData} from \"./ProfileData\";\r\nimport {connect} from \"react-redux\";\r\nimport {Component} from \"react\";\r\nimport React from \"react\";\r\nimport {getMyStatusThunkCreator, updateStatusThunkCreator} from \"../account-reducer\";\r\n\r\ntype StatePropsType = {\r\n    status: string\r\n    myId: number | null\r\n    login: string | null\r\n}\r\ntype DispatchType = {\r\n    updateStatusThunkCreator: (status: string) => void\r\n    getMyStatusThunkCreator: (userId: string) => void\r\n}\r\ntype PropsType = StatePropsType & DispatchType;\r\n\r\nclass ProfileDataContainer extends Component<PropsType> {\r\n\r\n    updateStatus = (status: string) => {\r\n        this.props.updateStatusThunkCreator(status);\r\n    }\r\n\r\n    componentDidMount(): void {\r\n        if (this.props.myId !== null) {\r\n            this.props.getMyStatusThunkCreator(this.props.myId.toString())\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <ProfileData status={this.props.status} userName={this.props.login} updateStatus={this.updateStatus}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: StateType) => {\r\n    return {\r\n        status: state.accountReducer.myStatus.status,\r\n        myId: state.auth.payload.id,\r\n        login: state.auth.payload.login,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {updateStatusThunkCreator, getMyStatusThunkCreator})(ProfileDataContainer)","import {PostsType, ProfilePageType} from \"../../redux/store\";\r\nimport { v1 } from \"uuid\";\r\n\r\nconst ADD_POSTS = \"ADD-POST\";\r\nconst REMOVE_POST = 'REMOVE_POST';\r\n\r\n/* These action types we use in the dispatch action type (ActionsType) in store.tsx */\r\nexport type AddPostsACType = {\r\n    type: typeof ADD_POSTS\r\n    post: string\r\n}\r\nexport type RemovePostACType = {\r\n    type: typeof REMOVE_POST\r\n    postId: string\r\n}\r\n\r\ntype ActionsType = AddPostsACType | RemovePostACType;\r\n\r\nexport type DispatchTypeProfileReducer = (action: ActionsType) => void\r\n\r\n/* Action creators are callbacks we use as a dispatch param on target page (AddPost.tsx) */\r\nexport const addPostsAC = (post: string):AddPostsACType => {\r\n    return {\r\n        type: ADD_POSTS,\r\n        post\r\n    };\r\n};\r\nexport const removePostAC = (postId: string):RemovePostACType => {\r\n    return {\r\n        type: REMOVE_POST,\r\n        postId\r\n    };\r\n};\r\n\r\nconst initState = {\r\n    posts: [\r\n        {message: 'Greetings!', likes: '8', postId: '1'},\r\n        {message: 'See you later!', likes: '17', postId: '2'},\r\n    ],\r\n    status: 'test',\r\n};\r\n\r\n/* This function is called in dispatch in store.tsx and returns the state, whether changed or not */\r\nexport const profileReducer = (state: ProfilePageType = initState, action: ActionsType) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POSTS:\r\n            let postId = v1();\r\n            let newEntry: PostsType = {message: action.post, likes: \"2\", postId: postId};\r\n            let newArray = [...state.posts, newEntry];\r\n            return {...state, posts: newArray};\r\n        case REMOVE_POST:\r\n            return {...state, posts: state.posts.filter(post => post.postId !== action.postId)};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPostTC = (post: string) => (dispatch: DispatchTypeProfileReducer) => {\r\n    dispatch(addPostsAC(post));\r\n}\r\nexport const removePostTC = (postId: string) => (dispatch: DispatchTypeProfileReducer) => {\r\n    dispatch(removePostAC(postId));\r\n}","\r\nexport const requiredField = (value: string) => {\r\n    if (value) {\r\n        return undefined;\r\n    }\r\n    return 'Field is required';\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength: number) => (value: string) => {\r\n    if (value && value.length > maxLength) {\r\n        return 'Max length exceeded';\r\n    } else if (value && value.length < maxLength) {\r\n        return undefined;\r\n    } else {\r\n        return 'Field is required';\r\n    }\r\n}","import React from \"react\";\r\nimport s from './FormsControl.module.css';\r\n\r\n// const Textarea = ({input, meta, ...props}: any) => {\r\n//     const err = meta.touched && meta.error;\r\n//\r\n//     return (\r\n//         <div className={err ? `${s.formGroup} ${s.error}` : `${s.formGroup}`}>\r\n//              <textarea {...input} {...props}/>\r\n//             {err && <span>{meta.error}</span>}\r\n//         </div>\r\n//     )\r\n// }\r\n\r\n\r\nconst Element = (Element: any) => ({ input, meta, ...props }: any) => {\r\n    const err = meta.touched && meta.error;\r\n    return (\r\n        <div className={ s.formGroup + \" \" + (err ? s.error : \"\") }>\r\n            <Element {...input} {...props} />\r\n            { err && <span> { meta.error } </span> }\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport const Textarea = Element(\"textarea\");\r\nexport const Input = Element(\"input\");\r\n","import React from 'react';\r\nimport styles from './style.module.css'\r\nimport {Field, InjectedFormProps, reduxForm, reset} from \"redux-form\";\r\nimport {maxLengthCreator, requiredField} from \"../../../../utils/validators/validators\";\r\nimport { Textarea } from '../../../common/formsControl/FormsControl';\r\nimport {useDispatch} from \"react-redux\";\r\n\r\ntype PropsType = {\r\n    addPostTC: (post: string) => void\r\n}\r\n\r\nfunction AddPost(props: PropsType) {\r\n\r\n    const dispatch = useDispatch();\r\n    const {addPostTC} = props;\r\n    //const [err, setErr] = useState(false);\r\n\r\n    // const addTextHandler = (e: ChangeEvent<HTMLTextAreaElement>) => {\r\n    //     if (e.currentTarget) {\r\n    //         const text = e.currentTarget.value;\r\n    //         changeText(text);\r\n    //         setErr(false);\r\n    //     }\r\n    // };\r\n    // const onSubmitHandler = (e: ChangeEvent<HTMLFormElement>) => {\r\n    //     e.preventDefault();\r\n    //     if (textareaInput.trim()) {\r\n    //         addPost();\r\n    //         setErr(false);\r\n    //     } else {\r\n    //         setErr(true);\r\n    //     }\r\n    // };\r\n\r\n    const onSubmit = (formData: FormDataType) => {\r\n        addPostTC(formData.post);\r\n        dispatch(reset('PostForm'));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={styles.postsTitle}>\r\n                <h3>ADD POST:</h3>\r\n            </div>\r\n            <div className={styles.addPostBlock}>\r\n                <PostReduxForm onSubmit={onSubmit}/>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default AddPost;\r\n\r\ntype FormDataType = {\r\n    post: string\r\n}\r\nconst maxLength = maxLengthCreator(300);\r\n\r\nconst PostForm: React.FC<InjectedFormProps<FormDataType>> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <Field component={Textarea} name={'post'} placeholder={'Text your post...'}\r\n                   validate={[requiredField, maxLength]}/>\r\n            <button>I say...</button>\r\n        </form>\r\n    );\r\n}\r\nconst PostReduxForm = reduxForm<FormDataType>({\r\n    form: \"PostForm\"\r\n})(PostForm);\r\n\r\n\r\n// <form action=\"#\" onSubmit={onSubmitHandler}>\r\n//\r\n//                     <textarea placeholder={err ? \"Type your post please.\" : \"Text your post...\"}\r\n//                               value={textareaInput}\r\n//                               onChange={addTextHandler}/>\r\n//\r\n//     <input type=\"submit\"\r\n//            value=\"I say, ...\"/>\r\n// </form>","import {StateType} from \"../../../../redux/store\";\r\nimport {addPostTC} from '../../profile-reducer';\r\nimport AddPost from \"./AddPost\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state: StateType) => {\r\n    return {\r\n\r\n    }\r\n};\r\n// const mapDispatchToProps = (dispatch: DispatchTypeProfileReducer) => {\r\n//     return {\r\n//         addPost: () => {dispatch(addPostsAC())},\r\n//         changeText: (text: string) => {dispatch(addPostAC(text))}\r\n//     }\r\n// };\r\nconst AddPostContainer = connect(mapStateToProps, {addPostTC})(AddPost);\r\n\r\nexport default AddPostContainer;","import React from 'react';\r\nimport styles from './style.module.css'\r\nimport {useDispatch} from \"react-redux\";\r\nimport { removePostTC } from '../../../profile-reducer';\r\n//import userLogo from './../../../../../assets/images/post/user.svg'\r\n\r\ntype PropsType = {\r\n    message: string\r\n    likes: string\r\n    postId: string\r\n}\r\n\r\nfunction Post(props: PropsType) {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const removeHandler = () => {\r\n        dispatch(removePostTC(props.postId));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={styles.postItem}>\r\n                <div className={styles.likesBlock}>\r\n                    <div className={styles.likesBlock__thumbImg}>\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 511.999 511.999\">\r\n                            <g>\r\n                                <g>\r\n                                    <path d=\"M83.578,167.256H16.716C7.524,167.256,0,174.742,0,183.971v300.881c0,9.225,7.491,16.713,16.716,16.713h66.862\r\n                                        c9.225,0,16.716-7.489,16.716-16.713V183.971C100.294,174.742,92.769,167.256,83.578,167.256z\"/>\r\n                                </g>\r\n                            </g>\r\n                            <g>\r\n                                <g>\r\n                                    <path d=\"M470.266,167.256c-2.692-0.456-128.739,0-128.739,0l17.606-48.032c12.148-33.174,4.283-83.827-29.424-101.835\r\n                                        c-10.975-5.864-26.309-8.809-38.672-5.697c-7.09,1.784-13.321,6.478-17.035,12.767c-4.271,7.233-3.83,15.676-5.351,23.696\r\n                                        c-3.857,20.342-13.469,39.683-28.354,54.2c-25.952,25.311-106.571,98.331-106.571,98.331v267.45h278.593\r\n                                        c37.592,0.022,62.228-41.958,43.687-74.749c22.101-14.155,29.66-43.97,16.716-66.862c22.102-14.155,29.66-43.97,16.716-66.862\r\n                                        C527.572,235.24,514.823,174.792,470.266,167.256z\"/>\r\n                                </g>\r\n                            </g>\r\n                        </svg>\r\n                    </div>\r\n                    {props.likes}\r\n                </div>\r\n                <div className={styles.removeBtn} onClick={removeHandler}>\r\n                    remove\r\n                </div>\r\n                <div className={styles.postItem__avatar}>\r\n                    {/*<img src={userLogo} alt=\"\"/>*/}\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Outline\" viewBox=\"0 0 512 512\">\r\n                        <path d=\"M68.169,447.023C71.835,449.023,159.075,496,256,496c105.008,0,184.772-47.134,188.116-49.14A8,8,0,0,0,448,440c0-64.593-19.807-123.7-55.771-166.442-25.158-29.9-56.724-50.28-91.539-59.662a104,104,0,1,0-89.38,0c-34.815,9.382-66.381,29.765-91.539,59.662C83.807,316.3,64,375.407,64,440A8,8,0,0,0,68.169,447.023ZM168,120a88,88,0,1,1,88,88A88.1,88.1,0,0,1,168,120ZM132.013,283.859C164.5,245.258,208.528,224,256,224s91.5,21.258,123.987,59.859c32.681,38.838,51.056,92.48,51.977,151.474C414.845,444.6,343.708,480,256,480c-81.11,0-157.5-35.609-175.96-44.856C81,376.223,99.367,322.656,132.013,283.859Z\"/>\r\n                    </svg>\r\n                </div>\r\n                <div className={styles.postItem__inner}>\r\n                    <div className={styles.postItem__author}>\r\n                        John Doe\r\n                    </div>\r\n                    <div className={styles.postItem__text}>\r\n                        {props.message}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport styles from './style.module.css'\r\nimport Post from \"./post/Post\";\r\nimport { PostsType } from '../../../../redux/store';\r\n\r\ntype PropsType = {\r\n    posts: Array<PostsType>\r\n}\r\n\r\nfunction Posts(props: PropsType) {\r\n\r\n    const {posts} = props;\r\n\r\n    const postsMap = posts.map((post) => {\r\n        return <Post key={post.postId} message={post.message} likes={post.likes} postId={post.postId}/>;\r\n    });\r\n\r\n    return (\r\n\r\n        <>\r\n            <div className={styles.postsTitle}>\r\n                <h3>Posts:</h3>\r\n            </div>\r\n            <div className={styles.postsBlock}>\r\n                {postsMap}\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Posts;","import {StateType} from '../../../../redux/store';\r\nimport Posts from \"./Posts\";\r\nimport {connect} from 'react-redux';\r\n//import {AuthRedirectComponent} from \"../../../hoc/withAuthRedirect\";\r\n\r\nconst mapStateToProps = (state: StateType) => {\r\n    return {\r\n        posts: state.profilePage.posts\r\n    }\r\n};\r\n\r\n//const AuthProfilePostsComponent = AuthRedirectComponent(Posts);\r\n// const PostsContainer = AuthRedirectComponent(connect(mapStateToProps)(Posts));\r\n\r\n//export let Test = compose(connect(mapStateToProps), AuthRedirectComponent)(Posts);\r\n// const PostsContainer = AuthRedirectComponent(connect(mapStateToProps)(Posts));\r\n\r\nconst PostsContainer = connect(mapStateToProps)(Posts);\r\n\r\nexport default PostsContainer;","import React from 'react';\r\nimport styles from './style.module.css'\r\nimport ProfileDataContainer from \"./profileData/ProfileDataContainer\";\r\nimport AddPostContainer from \"./postsBlock/addpost/AddPostContainer\";\r\nimport PostsContainer from \"./postsBlock/posts/PostsContainer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppRootState} from \"../../redux/redux-store\";\r\nimport {AuthState} from \"../login/auth-reducer\";\r\n//import {AuthRedirectComponent} from \"../hoc/withAuthRedirect\";\r\n\r\nexport const Profile = () => {\r\n\r\n    const authState = useSelector<AppRootState, AuthState>(state => state.auth)\r\n    const {isAuth} = authState;\r\n\r\n    if (!isAuth) {\r\n        return <Redirect to={`/login`}/>\r\n    }\r\n\r\n    return (\r\n        <div className={styles.profileBlock}>\r\n            <ProfileDataContainer/>\r\n            <AddPostContainer/>\r\n            <PostsContainer/>\r\n        </div>\r\n    );\r\n};\r\n\r\n//export const AuthProfileComponent = AuthRedirectComponent(Profile);\r\n//jsx element type does not have any construct or call signatures\r\n","import {authApi} from \"../../api/api\";\r\nimport {AppRootState} from \"../../redux/redux-store\";\r\nimport {ThunkAction, ThunkDispatch} from \"redux-thunk\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_AUTH_DATA = 'SET-USER-AUTH-DATA';\r\n\r\nexport type AuthUserData = {\r\n    id: number | null\r\n    email: string | null\r\n    login: string | null\r\n}\r\nexport type AuthState = {\r\n    payload: AuthUserData\r\n    isAuth: boolean\r\n}\r\ntype SetUserDataACType = {\r\n    type: typeof SET_USER_AUTH_DATA\r\n    payload: AuthUserData\r\n    isAuth: boolean\r\n}\r\n\r\nconst setAuthUserData = (payload: AuthUserData, isAuth: boolean): SetUserDataACType => {\r\n    return {\r\n        type: SET_USER_AUTH_DATA,\r\n        payload,\r\n        isAuth,\r\n    }\r\n};\r\n\r\ntype StopSubmitACType = {\r\n    form: string\r\n    errObj: {\r\n        _error: string\r\n    }\r\n};\r\n\r\ntype ActionType = SetUserDataACType;\r\nexport type DispatchTypeAuthReducer = (action: ActionType) => void\r\n\r\n\r\nconst initState: AuthState = {\r\n    payload: {\r\n        id: null,\r\n        email: null,\r\n        login: null,\r\n    },\r\n    isAuth: false\r\n};\r\n\r\nexport const authReducer = (state: AuthState = initState, action: ActionType) => {\r\n    switch (action.type) {\r\n        case SET_USER_AUTH_DATA:\r\n            return {...state, payload: action.payload, isAuth: action.isAuth};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const authThunkCreator = () => async (dispatch: DispatchTypeAuthReducer) => {\r\n    const res = await authApi.authMe();\r\n    if (res.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(res.data.data, true));\r\n    }\r\n};\r\n\r\ntype ThunkType = ThunkAction<void, AppRootState, {}, ActionType>;\r\nexport const loginThunkCreator = (email: string, password: string, rememberMe: boolean): ThunkType => async (dispatch: ThunkDispatch<AppRootState, {}, ActionType>) => {\r\n    const res = await authApi.login(email, password, rememberMe);\r\n    if (res.resultCode === 0) {\r\n        dispatch(authThunkCreator())\r\n    } else {\r\n        if (res.messages.length > 0) {\r\n            let action: any = stopSubmit('LoginForm', {_error: res.messages[0]});\r\n            dispatch(action);\r\n        }\r\n    }\r\n}\r\n\r\nexport const logoutThunkCreator = (): ThunkType => async (dispatch: ThunkDispatch<AppRootState, {}, ActionType>) => {\r\n    const res = await authApi.logout();\r\n    if (res.resultCode === 0) {\r\n        dispatch(setAuthUserData({id: null, email: null, login: null}, false));\r\n    }\r\n}","import React, {Component} from \"react\";\r\nimport {Profile} from \"./Profile\";\r\nimport {StateType} from \"../../redux/store\";\r\nimport { connect } from \"react-redux\";\r\nimport {authThunkCreator} from \"../login/auth-reducer\";\r\n\r\ntype PropsType = {\r\n    id: number | null\r\n    email: string | null\r\n    login: string | null\r\n    isAuth: boolean\r\n    authThunkCreator: () => void\r\n}\r\n\r\nclass ProfileContainer extends Component<PropsType> {\r\n\r\n    componentDidMount(): void {\r\n        this.props.authThunkCreator();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile />\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: StateType) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.payload.login,\r\n        email: state.auth.payload.email,\r\n        id: state.auth.payload.id,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {authThunkCreator})(ProfileContainer)","import React from \"react\";\r\nimport styles from './style.module.css'\r\n\r\ntype PropsType = {\r\n    author: string\r\n    message: string\r\n}\r\n\r\nexport const Message = React.memo((props: PropsType) => {\r\n    return (\r\n        <div className={styles.message}>\r\n            <div className={styles.message__avatar}>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Outline\" viewBox=\"0 0 512 512\">\r\n                    <path d=\"M68.169,447.023C71.835,449.023,159.075,496,256,496c105.008,0,184.772-47.134,188.116-49.14A8,8,0,0,0,448,440c0-64.593-19.807-123.7-55.771-166.442-25.158-29.9-56.724-50.28-91.539-59.662a104,104,0,1,0-89.38,0c-34.815,9.382-66.381,29.765-91.539,59.662C83.807,316.3,64,375.407,64,440A8,8,0,0,0,68.169,447.023ZM168,120a88,88,0,1,1,88,88A88.1,88.1,0,0,1,168,120ZM132.013,283.859C164.5,245.258,208.528,224,256,224s91.5,21.258,123.987,59.859c32.681,38.838,51.056,92.48,51.977,151.474C414.845,444.6,343.708,480,256,480c-81.11,0-157.5-35.609-175.96-44.856C81,376.223,99.367,322.656,132.013,283.859Z\"/>\r\n                </svg>\r\n            </div>\r\n            <div className={styles.message__content}>\r\n                <div className={styles.message__author}>\r\n                    <p>{props.author}</p>\r\n                </div>\r\n                <div className={styles.message__text}>\r\n                    <p>{props.message}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n})\r\n","import React from \"react\";\r\nimport styles from './style.module.css'\r\nimport {Message} from \"./message/Message\";\r\nimport { MessageType } from \"../../../../redux/store\";\r\n\r\ntype PropsType = {\r\n    messages: Array<MessageType>\r\n}\r\n\r\nexport const MessagesBox = React.memo((props: PropsType) => {\r\n    console.log('render msgbox')\r\n    const {messages} = props;\r\n\r\n    const messagesInChatRoomMap = messages.map((message) => {\r\n        return <Message key={message.id} author={message.author} message={message.message} />\r\n    });\r\n\r\n    return (\r\n        <div className={styles.messagesBox}>\r\n            {messagesInChatRoomMap}\r\n        </div>\r\n    );\r\n});\r\n","import {StateType} from \"../../../../redux/store\";\r\nimport {MessagesBox} from \"./MessagesBox\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = (state: StateType) => {\r\n    return {\r\n        messages: state.messagesPage.messagesInChatRoom\r\n    }\r\n};\r\n\r\nconst MessagesBoxContainer = connect(mapStateToProps)(MessagesBox);\r\n\r\nexport default MessagesBoxContainer;","import {MessagesPageType} from \"./store\";\r\n\r\nconst ADD_MSG = \"ADD-MSG\";\r\nconst NEW_MSG_TEXT = \"NEW-MSG-TEXT\";\r\n\r\nexport type AddMsgACType = {\r\n    type: typeof ADD_MSG\r\n    message: string\r\n}\r\nexport type NewTextMsgACType = {\r\n    type: typeof NEW_MSG_TEXT,\r\n    text: string\r\n}\r\n\r\ntype ActionsType = AddMsgACType | NewTextMsgACType;\r\n\r\nexport type DispatchTypeDialogsReducer = (action: ActionsType) => void\r\n\r\nexport const addMsgActionCreator = (message: string):AddMsgACType => {\r\n    return {\r\n        type: ADD_MSG,\r\n        message,\r\n    };\r\n};\r\nexport const newTextMsgActionCreator = (text: string):NewTextMsgACType => {\r\n    return {\r\n        type: NEW_MSG_TEXT,\r\n        text\r\n    };\r\n};\r\n\r\nconst initState = {\r\n    messagesInChatRoom: [\r\n        {id: 12, author: \"Jane\", message: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\"},\r\n        {id: 22, author: \"Martin\", message: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\"},\r\n    ],\r\n    usersInChatRoom: [\r\n        {id: 1, userName: \"John\", dialogUrl: \"/dialogs/1\"},\r\n        {id: 2, userName: \"Jane\", dialogUrl: \"/dialogs/2\"},\r\n        {id: 3, userName: \"Martin\", dialogUrl: \"/dialogs/3\"},\r\n        {id: 4, userName: \"Marry\", dialogUrl: \"/dialogs/4\"},\r\n        {id: 5, userName: \"David\", dialogUrl: \"/dialogs/5\"},\r\n        {id: 6, userName: \"Veronica\", dialogUrl: \"/dialogs/6\"},\r\n    ],\r\n    textareaInput: \"\",\r\n};\r\n\r\nconst dialogsReducer = (state: MessagesPageType = initState, action: ActionsType) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_MSG:\r\n            let newEntry = {id: 13, author: 'test', message: action.message};\r\n            let newArray = [...state.messagesInChatRoom, newEntry];\r\n            return {...state, messagesInChatRoom: newArray};\r\n        case NEW_MSG_TEXT:\r\n            return {...state, textareaInput: action.text};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default dialogsReducer;\r\n\r\nexport const addMessageThunkCreator = (message: string) => (dispatch: DispatchTypeDialogsReducer) => {\r\n    dispatch(addMsgActionCreator(message));\r\n}","import React from \"react\";\r\nimport styles from './style.module.css'\r\nimport {Field, InjectedFormProps, reduxForm, reset} from \"redux-form\";\r\nimport {Textarea} from \"../../../common/formsControl/FormsControl\";\r\nimport {maxLengthCreator, requiredField} from \"../../../../utils/validators/validators\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\ntype PropsType = {\r\n    textareaInput: string\r\n    addMessageThunkCreator: (message: string) => void\r\n}\r\n\r\ntype FormDataType = {\r\n    message: string\r\n}\r\n\r\nexport const NewMessage = React.memo((props: PropsType) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const {addMessageThunkCreator} = props;\r\n    // const [err, setErr] = useState(false);\r\n\r\n    // const onChangeHandler = (e: ChangeEvent<HTMLTextAreaElement>) => {\r\n    //     if (e.currentTarget) {\r\n    //         const arr = e.currentTarget.value;\r\n    //         changeText(arr);\r\n    //         setErr(false);\r\n    //     }\r\n    // };\r\n\r\n    // const onSubmitHandler = (e: ChangeEvent<HTMLFormElement>) => {\r\n    //     e.preventDefault();\r\n    //     if (textareaInput.trim()) {\r\n    //         addMessage();\r\n    //         setErr(false);\r\n    //     } else {\r\n    //         setErr(true);\r\n    //     }\r\n    // };\r\n\r\n    const onSubmit = (formData: FormDataType) => {\r\n        addMessageThunkCreator(formData.message);\r\n        dispatch(reset('MessageForm'));\r\n    }\r\n\r\n    return (\r\n        <div className={styles.newMessageBlock}>\r\n            <MessageReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    );\r\n})\r\n\r\nconst maxLength = maxLengthCreator(150);\r\n\r\nconst MessageForm: React.FC<InjectedFormProps<FormDataType>> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <Field component={Textarea} name={\"message\"} placeholder={'Text your message here...'}\r\n                   validate={[requiredField, maxLength]}/>\r\n            <button>I say, ...</button>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst MessageReduxForm = reduxForm<FormDataType>({\r\n    form: 'MessageForm'\r\n})(MessageForm);\r\n\r\n// <form className={err ? `${styles.newMessageForm} ${styles.err}` : `${styles.newMessageForm}`}\r\n//       onSubmit={onSubmitHandler}>\r\n//\r\n//                 <textarea placeholder={err ? \"Type your message please.\" : \"Text your message here...\"}\r\n//                           value={textareaInput}\r\n//                           onChange={onChangeHandler}/>\r\n//\r\n//     <button type=\"submit\">I say, ...</button>\r\n// </form>","import {StateType} from \"../../../../redux/store\";\r\nimport {addMessageThunkCreator} from \"../../../../redux/dialogs-reducer\";\r\nimport {NewMessage} from \"./NewMessage\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state: StateType) => {\r\n    return {\r\n        textareaInput: state.messagesPage.textareaInput\r\n    }\r\n};\r\n// const mapDispatchToProps = (dispatch: DispatchTypeDialogsReducer) => {\r\n//     return {\r\n//         addMessage: (message: string) => {dispatch(addMsgActionCreator(message))},\r\n//         changeText: (text: string) => {dispatch(newTextMsgActionCreator(text))}\r\n//     }\r\n// };\r\n\r\nconst NewMessageContainer = connect(mapStateToProps, {addMessageThunkCreator})(NewMessage);\r\n\r\nexport default NewMessageContainer;","import React from \"react\";\r\nimport styles from './style.module.css'\r\nimport MessagesBoxContainer from \"./messagesBox/MessagesBoxContainer\";\r\nimport NewMessageContainer from \"./newMessage/NewMessageContainer\";\r\n\r\nexport const Messages = React.memo(() => {\r\n    console.log('render messages')\r\n    return (\r\n        <div className={styles.messagesBlock}>\r\n            <MessagesBoxContainer />\r\n            <NewMessageContainer />\r\n        </div>\r\n    );\r\n});\r\n","import React from \"react\";\r\nimport styles from \"./style.module.css\"\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\ntype PropsType = {\r\n    dialogUrl: string\r\n    userName: string\r\n}\r\n\r\nexport const UserBlock = React.memo((props: PropsType) => {\r\n\r\n    return (\r\n        <div className={styles.userBlock}>\r\n            <NavLink to={props.dialogUrl} activeClassName={styles.active}>{props.userName}</NavLink>\r\n        </div>\r\n    );\r\n});\r\n","import React from \"react\";\r\nimport styles from \"./style.module.css\"\r\nimport {UserBlock} from \"./userBlock/UserBlock\";\r\nimport { UsersInChatRoomType } from \"../../../redux/store\";\r\n\r\ntype PropsType = {\r\n    usersInChatRoom: Array<UsersInChatRoomType>\r\n}\r\n\r\nexport const UsersList = React.memo((props: PropsType) => {\r\n\r\n    const {usersInChatRoom} = props;\r\n\r\n    let usersInChatRoomMap = usersInChatRoom.map((user) => {\r\n        return <UserBlock key={user.id} dialogUrl={user.dialogUrl} userName={user.userName} />\r\n    });\r\n\r\n    return (\r\n        <div className={styles.usersList}>\r\n            {usersInChatRoomMap}\r\n        </div>\r\n    );\r\n});\r\n","import {StateType} from \"../../../redux/store\";\r\nimport {UsersList} from \"./UsersList\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state: StateType) => {\r\n    return {\r\n        usersInChatRoom: state.messagesPage.usersInChatRoom\r\n    }\r\n};\r\n\r\nexport const UsersListContainer = connect(mapStateToProps)(UsersList);\r\n\r\n","import React from \"react\";\r\nimport styles from './style.module.css'\r\nimport {Messages} from \"./messages/Messages\";\r\nimport {UsersListContainer} from \"./usersList/UserListContainer\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppRootState} from \"../../redux/redux-store\";\r\nimport {AuthState} from \"../login/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nexport const Dialogs = React.memo(() => {\r\n    console.log('render dialogs')\r\n    const authState = useSelector<AppRootState, AuthState>(state => state.auth)\r\n    const {isAuth} = authState;\r\n\r\n    if (!isAuth) {\r\n        return <Redirect to={`/login`}/>\r\n    }\r\n\r\n    return (\r\n        <div className={styles.dialogsBlock}>\r\n            <div className={styles.dialogsBlockTitle}>\r\n                <h3>Chat room</h3>\r\n            </div>\r\n            <div className={styles.dialogsContent}>\r\n                <UsersListContainer />\r\n                <Messages />\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n","import {ApiUsersOnChangeType, ApiUsersType, UsersPageType} from \"../../redux/store\";\r\nimport {usersApi} from \"../../api/api\";\r\n\r\nconst FOLLOW_USER = \"FOLLOW-USER\";\r\nconst UNFOLLOW_USER = \"UNFOLLOW-USER\";\r\nconst SET_USERS = \"SET-USERS\";\r\nconst SET_CURRENT_PAGE = \"SET-CURRENT-PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET-TOTAL-USERS-COUNT\";\r\nconst LOADING = \"LOADING\";\r\nconst FOLLOWING_IN_PROGRESS = 'FOLLOWING_IN_PROGRESS';\r\n\r\ntype FollowUserACType = {\r\n    type: typeof FOLLOW_USER\r\n    id: number\r\n}\r\ntype UnfollowUserACType = {\r\n    type: typeof UNFOLLOW_USER\r\n    id: number\r\n}\r\ntype SetUsersACType = {\r\n    type: typeof SET_USERS\r\n    users: Array<ApiUsersType>\r\n}\r\ntype SetCurrentPageACType = {\r\n    type: typeof SET_CURRENT_PAGE\r\n    currentPage: number\r\n}\r\ntype SetTotalUserCountACType = {\r\n    type: typeof SET_TOTAL_USERS_COUNT\r\n    totalUsersCount: number\r\n}\r\ntype SetLoadingACType = {\r\n    type: typeof LOADING\r\n    isFetching: boolean\r\n}\r\ntype FollowingInProgressACType = {\r\n    type: typeof FOLLOWING_IN_PROGRESS\r\n    isFetching: boolean\r\n    userId: number\r\n}\r\n\r\ntype ActionsType = FollowUserACType\r\n    | UnfollowUserACType\r\n    | SetUsersACType\r\n    | SetCurrentPageACType\r\n    | SetTotalUserCountACType\r\n    | SetLoadingACType\r\n    | FollowingInProgressACType;\r\n\r\nexport type DispatchTypeUsersReducer = (action: ActionsType) => void\r\n\r\nexport const followUser = (id: number): FollowUserACType => {\r\n    return {\r\n        type: FOLLOW_USER,\r\n        id: id\r\n    };\r\n};\r\nexport const unfollowUser = (id: number): UnfollowUserACType => {\r\n    return {\r\n        type: UNFOLLOW_USER,\r\n        id: id\r\n    };\r\n};\r\nexport const setUsers = (users: Array<ApiUsersType>): SetUsersACType => {\r\n    return {\r\n        type: SET_USERS,\r\n        users: users\r\n    };\r\n};\r\nexport const setCurrentPage = (currentPage: number): SetCurrentPageACType => {\r\n    return {\r\n        type: SET_CURRENT_PAGE,\r\n        currentPage: currentPage\r\n    };\r\n};\r\nexport const setTotalUsersCount = (totalUsersCount: number): SetTotalUserCountACType => {\r\n    return {\r\n        type: SET_TOTAL_USERS_COUNT,\r\n        totalUsersCount: totalUsersCount\r\n    };\r\n};\r\nexport const setLoading = (isFetching: boolean): SetLoadingACType => {\r\n    return {\r\n        type: LOADING,\r\n        isFetching: isFetching\r\n    };\r\n};\r\nexport const followingInProgress = (isFetching: boolean, userId: number): FollowingInProgressACType => {\r\n    return {\r\n        type: FOLLOWING_IN_PROGRESS,\r\n        isFetching,\r\n        userId,\r\n    };\r\n};\r\n\r\nconst initState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    disabledIdArr: [],\r\n};\r\n\r\nconst userDataChanger = (usersArray: Array<ApiUsersOnChangeType>, objPropName: string, id: number, changedObj: ApiUsersOnChangeType) => {\r\n    return usersArray.map(user => user[objPropName as keyof typeof user] === id ? {...user, ...changedObj} : user);\r\n}\r\nexport const usersReducer = (state: UsersPageType = initState, action: ActionsType) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_USERS:\r\n            return {...state, users: action.users};\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage};\r\n\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {...state, totalUsersCount: action.totalUsersCount};\r\n\r\n        case LOADING:\r\n            return {...state, isFetching: action.isFetching};\r\n\r\n        case FOLLOW_USER:\r\n            let followArr = [...state.users];\r\n            //followArr = followArr.map(user => user.id === action.id ? {...user, followed: true} : user);\r\n            const newFollowArr = userDataChanger(followArr, 'id', action.id, {followed: true});\r\n            return {...state, users: newFollowArr};\r\n\r\n        case UNFOLLOW_USER:\r\n            let unfollowArr = [...state.users];\r\n            //unfollowArr = unfollowArr.map(user => user.id === action.id ? {...user, followed: false} : user);\r\n            const newUnfollowArr = userDataChanger(unfollowArr, 'id', action.id, {followed: false});\r\n            return {...state, users: newUnfollowArr};\r\n\r\n        case FOLLOWING_IN_PROGRESS:\r\n            return {\r\n                ...state,\r\n                disabledIdArr: action.isFetching\r\n                    ? [...state.disabledIdArr, action.userId]\r\n                    : state.disabledIdArr.filter(userId => userId !== action.userId)\r\n            };\r\n\r\n        default:\r\n            return state;\r\n        //throw new Error('Undefined action type in usersReducer.');\r\n    }\r\n};\r\n\r\n// short form:\r\n//\r\n//const getUsersThunkCreator = () => (dispatch: DispatchTypeUsersReducer) => {...}\r\n//\r\n// of:\r\n//\r\n// const getUsersThunkCreator = () => {\r\n//     return (dispatch: DispatchTypeUsersReducer) => {\r\n//         ...\r\n//     }\r\n// };\r\n\r\nexport const getUsersThunkCreator = (currentPage: number, pageSize: number) => async (dispatch: DispatchTypeUsersReducer) => {\r\n    dispatch(setLoading(true));\r\n    const res = await usersApi.getUsers(currentPage, pageSize);\r\n    dispatch(setLoading(false));\r\n    dispatch(setUsers(res.items));\r\n    dispatch(setTotalUsersCount(res.totalCount));\r\n};\r\n\r\nexport const getUsersOnPageChangeThunkCreator = (page: number, pageSize: number) => async (dispatch: DispatchTypeUsersReducer) => {\r\n    dispatch(setLoading(true));\r\n    dispatch(setCurrentPage(page));\r\n    const res = await usersApi.getUsers(page, pageSize);\r\n    dispatch(setLoading(false));\r\n    dispatch(setUsers(res.items));\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch: DispatchTypeUsersReducer, userId: number, apiMethod: any, actionCreator: (userId: number) => ActionsType) => {\r\n    dispatch(followingInProgress(true, userId));\r\n    const res = await apiMethod(userId);\r\n    if (res.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(followingInProgress(false, userId));\r\n}\r\nexport const followUserThunkCreator = (userId: number) => async (dispatch: DispatchTypeUsersReducer) => {\r\n    const apiMethod = usersApi.followUserAxios.bind(usersApi);\r\n    followUnfollowFlow(dispatch, userId, apiMethod, followUser);\r\n};\r\nexport const unfollowUserThunkCreator = (userId: number) => async (dispatch: DispatchTypeUsersReducer) => {\r\n    const apiMethod = usersApi.unfollowUserAxios.bind(usersApi);\r\n    followUnfollowFlow(dispatch, userId, apiMethod, unfollowUser);\r\n};\r\n\r\n// case UNFOLLOW_USER:\r\n//     const unfollowArr = [...state.users];\r\n// unfollowArr.find(user => {\r\n//     if (user.id === action.id) {\r\n//         user.followed = false;\r\n//     }\r\n// });\r\n// return {...state, users: unfollowArr};","import React, {useState} from 'react';\r\nimport s from './Pagination.module.css'\r\n\r\ntype PropsType = {\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    changePageFunction: (pageNumber: number) => void\r\n    portionSize: number\r\n}\r\n\r\nexport const Pagination = (props: PropsType) => {\r\n\r\n    const {totalItemsCount, pageSize, currentPage, changePageFunction, portionSize} = props;\r\n\r\n    const pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    const pages = [];\r\n    for (let i=1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    const onPageChange = (page: number) => {\r\n        changePageFunction(page);\r\n    };\r\n\r\n    const [portionCount, setPortionCount] = useState(1);\r\n\r\n    const onNextPortionPageBtnClick = () => {\r\n        setPortionCount(portionCount + 1);\r\n    };\r\n    const onPrevPortionPageBtnClick = () => {\r\n        setPortionCount(portionCount - 1);\r\n    };\r\n\r\n    const firstElNumInPortion = (portionCount - 1) * pageSize + 1;\r\n    const lastElNumInPortion = portionCount * pageSize;\r\n\r\n    const portionsTotal = Math.ceil(pagesCount / portionSize);\r\n\r\n    const pagesMap = pages\r\n                        .filter(item => item >= firstElNumInPortion && item <= lastElNumInPortion)\r\n                        .map(page => {\r\n                            return <button key={page} className={page === currentPage ? s.currentPage : \"\"} onClick={() => onPageChange(page)}>{page}</button>\r\n                        });\r\n\r\n    const portionWithLastPage = (page: number) => {\r\n        onPageChange(page);\r\n        setPortionCount(portionsTotal);\r\n    };\r\n    const portionWithFirstPage = (page: number) => {\r\n        onPageChange(page);\r\n        setPortionCount(1);\r\n    };\r\n\r\n    const lastPage = pages.map(page => {\r\n        if (page === pages.length - 1) {\r\n            return (\r\n                <div className={s.pagBtnWrap} key={page}>\r\n                    <div className={s.paginationDots}>...</div>\r\n                    <button onClick={() => portionWithLastPage(page)}\r\n                         className={page === currentPage ? s.currentPage : \"\"}>{page}</button>\r\n                </div>\r\n            )\r\n        }\r\n        return null;\r\n    });\r\n    const firstPage = pages.map(page => {\r\n        if (page === 1) {\r\n            return (\r\n                <div className={s.pagBtnWrap} key={page}>\r\n                    <button onClick={() => portionWithFirstPage(page)}\r\n                         className={page === currentPage ? s.currentPage : \"\"}>{page}</button>\r\n                    <div className={s.paginationDots}>...</div>\r\n                </div>\r\n            )\r\n        }\r\n        return null;\r\n    });\r\n\r\n    return(\r\n        <div className={s.paginationWrap}>\r\n            {portionCount > 1 && <button className={s.paginationArrowBtn} onClick={onPrevPortionPageBtnClick}>PREV</button>}\r\n            {portionCount > 1 && firstPage}\r\n            {pagesMap}\r\n            {portionCount < portionsTotal && lastPage}\r\n            {portionCount < portionsTotal && <button className={s.paginationArrowBtn} onClick={onNextPortionPageBtnClick}>NEXT</button>}\r\n        </div>\r\n    );\r\n};","import React from \"react\";\r\nimport s from \"./style.module.css\";\r\nimport userPhoto from \"../../assets/images/post/user.png\";\r\nimport {ApiUsersType} from \"../../redux/store\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype PropsType = {\r\n    users: Array<ApiUsersType>\r\n    followUserApi: (id: number) => void\r\n    unfollowUserApi: (id: number) => void\r\n    disabledIdArr: Array<number>\r\n    isAuth: boolean\r\n}\r\n\r\nexport const Users = (props: PropsType) => {\r\n\r\n    const {users, followUserApi, unfollowUserApi, disabledIdArr, isAuth} = props;\r\n\r\n    const usersMap = users.map(user => {\r\n\r\n        const friend = user.followed ? 'yes' : 'no';\r\n\r\n        const followBtn = user.followed ? 'unfollow' : 'follow';\r\n\r\n        const onclickHandler = () => {\r\n            if (isAuth) {\r\n                !user.followed ? followUserApi(user.id) : unfollowUserApi(user.id)\r\n            } else {\r\n                alert('Please Log In.')\r\n            }\r\n\r\n        };\r\n\r\n        return (\r\n            <div className={s.userWrap} key={user.id}>\r\n                <div>\r\n                    <NavLink to={`/userprofile/${user.id}`}>\r\n                        <img src={user.photos.small !== null ? user.photos.small : userPhoto} alt=\"avatar\"/>\r\n                    </NavLink>\r\n                </div>\r\n                <div className={s.userDataField}>Name: <NavLink to={`/userprofile/${user.id}`}>{user.name}</NavLink></div>\r\n                <div className={s.userDataField}>Friend: {friend}</div>\r\n\r\n                <button className={s.followBtn} onClick={onclickHandler}\r\n                        disabled={disabledIdArr.some(userId => userId === user.id)}>\r\n                    {followBtn}\r\n                </button>\r\n            </div>\r\n        )\r\n    });\r\n\r\n    return (\r\n        <div>{usersMap}</div>\r\n    );\r\n\r\n};\r\n\r\n","import React from \"react\";\r\nimport loadingIcon from \"../../../assets/images/loading.svg\";\r\n\r\nexport const LoadingIcon = () => {\r\n\r\n    return (\r\n        <div>\r\n            <img src={loadingIcon} alt={'loading icon'}/>\r\n        </div>\r\n    );\r\n\r\n};","import {StateType} from \"../../redux/store\";\r\nimport {createSelector} from 'reselect';\r\n\r\nexport const getUsers = (state: StateType) => {\r\n    return state.usersPage.users;\r\n};\r\n\r\nexport const getPageSize = (state: StateType) => {\r\n    return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = (state: StateType) => {\r\n    return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state: StateType) => {\r\n    return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state: StateType) => {\r\n    return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getDisabledIdArr = (state: StateType) => {\r\n    return state.usersPage.disabledIdArr;\r\n};\r\n\r\nexport const getIsAuth = (state: StateType) => {\r\n    return state.auth.isAuth;\r\n};\r\n\r\nexport const getUsersSuperSelector = createSelector([getUsers], (users) => {\r\n    return users.filter(u => true);\r\n});","import {connect} from \"react-redux\";\r\nimport {ApiUsersType, StateType} from \"../../redux/store\";\r\nimport {\r\n    followUserThunkCreator,\r\n    getUsersOnPageChangeThunkCreator,\r\n    getUsersThunkCreator,\r\n    unfollowUserThunkCreator\r\n} from \"./users-reducer\";\r\nimport React from \"react\";\r\nimport {Pagination} from \"../common/pagination/Pagination\";\r\nimport {Users} from \"./Users\";\r\nimport {LoadingIcon} from \"../common/loadingIcon/LoadingIcon\";\r\nimport {\r\n    getCurrentPage,\r\n    getDisabledIdArr,\r\n    getIsAuth,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsersSuperSelector\r\n} from \"./users-selectors\";\r\n\r\ntype PropsType = {\r\n    users: Array<ApiUsersType>\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    disabledIdArr: Array<number>\r\n    getUsersThunkCreator: (currentPage: number, pageSize: number) => void\r\n    getUsersOnPageChangeThunkCreator: (page: number, pageSize: number) => void\r\n    followUserThunkCreator: (userId: number) => void\r\n    unfollowUserThunkCreator: (userId: number) => void\r\n    isAuth: boolean\r\n}\r\n\r\nclass UsersContainer extends React.Component<PropsType> {\r\n\r\n\r\n    onPageChange = (page: number) => {\r\n        // this.props.setLoading(true);\r\n        // this.props.setCurrentPage(page);\r\n        // usersAPI.getUsers(page, this.props.pageSize)\r\n        //     .then(res => {\r\n        //         this.props.setLoading(false);\r\n        //         this.props.setUsers(res.items);\r\n        //     });\r\n        this.props.getUsersOnPageChangeThunkCreator(page, this.props.pageSize);\r\n    };\r\n\r\n    componentDidMount(): void {\r\n        // this.props.setLoading(true);\r\n        // usersAPI.getUsers(this.props.currentPage, this.props.pageSize)\r\n        //     .then(res => {\r\n        //         this.props.setLoading(false);\r\n        //         this.props.setUsers(res.items);\r\n        //         this.props.setTotalUsersCount(res.totalCount);\r\n        //     });\r\n        this.props.getUsersThunkCreator(this.props.currentPage, this.props.pageSize);\r\n    };\r\n\r\n    followUserApi = (userId: number) => {\r\n\r\n        // this.props.followingInProgress(true, userId);\r\n        // usersAPI.followUserAxios(userId)\r\n        //     .then(res => {\r\n        //         if (res.resultCode === 0) {\r\n        //             this.props.followUser(userId);\r\n        //         }\r\n        //         this.props.followingInProgress(false, userId);\r\n        //     });\r\n        this.props.followUserThunkCreator(userId);\r\n    };\r\n\r\n    unfollowUserApi = (userId: number) => {\r\n\r\n        // this.props.followingInProgress(true, userId);\r\n        // usersAPI.unfollowUserAxios(userId)\r\n        //     .then(res => {\r\n        //         if (res.data.resultCode === 0) {\r\n        //             this.props.unfollowUser(userId);\r\n        //         }\r\n        //         this.props.followingInProgress(false, userId);\r\n        //     });\r\n        this.props.unfollowUserThunkCreator(userId);\r\n    };\r\n\r\n    render() {\r\n\r\n        return (\r\n\r\n            <>\r\n                <Pagination totalItemsCount={this.props.totalUsersCount}\r\n                            pageSize={this.props.pageSize}\r\n                            currentPage={this.props.currentPage}\r\n                            changePageFunction={this.onPageChange}\r\n                            portionSize={5}/>\r\n\r\n                {\r\n                    this.props.isFetching\r\n                        ? <LoadingIcon/>\r\n                        : <Users followUserApi={this.followUserApi}\r\n                                 unfollowUserApi={this.unfollowUserApi}\r\n                                 users={this.props.users}\r\n                                 disabledIdArr={this.props.disabledIdArr}\r\n                                 isAuth={this.props.isAuth}\r\n                        />\r\n                }\r\n\r\n            </>\r\n        );\r\n    };\r\n\r\n}\r\n\r\n// const mapToStateProps = (state: StateType) => {\r\n//     return {\r\n//         users: state.usersPage.users,\r\n//         pageSize: state.usersPage.pageSize,\r\n//         totalUsersCount: state.usersPage.totalUsersCount,\r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         disabledIdArr: state.usersPage.disabledIdArr,\r\n//         isAuth: state.auth.isAuth\r\n//     }\r\n// };\r\n\r\n// const mapDispatchToProps = (dispatch: DispatchTypeUsersReducer) => {\r\n//     return {\r\n//         followUser: (id: number) => {dispatch(followUserActionCreator(id))},\r\n//         unfollowUser: (id: number) => {dispatch(unfollowUserActionCreator(id))},\r\n//         setUsers: (users: Array<ApiUsersType>) => {dispatch(setUserActionCreator(users))},\r\n//         setCurrentPage: (currentPage: number) => {dispatch(setCurrentPageActionCreator(currentPage))},\r\n//         setTotalUsersCount: (totalUsersCount: number) => {dispatch(setTotalUserCountActionCreator(totalUsersCount))},\r\n//         setLoading: (isFetching: boolean) => {dispatch(setLoadingActionCreator(isFetching))},\r\n//     }\r\n// };\r\n\r\nconst mapToStateProps = (state: StateType) => {\r\n    return {\r\n        //users: getUsers(state),\r\n        users: getUsersSuperSelector(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        disabledIdArr: getDisabledIdArr(state),\r\n        isAuth: getIsAuth(state)\r\n    }\r\n};\r\n\r\nexport default connect(mapToStateProps, {\r\n    unfollowUserThunkCreator,\r\n    followUserThunkCreator,\r\n    getUsersThunkCreator,\r\n    getUsersOnPageChangeThunkCreator\r\n})(UsersContainer);","import React, {ChangeEvent, useState} from \"react\";\r\nimport s from './News.module.css';\r\nimport {NewsStateType} from \"./news-reducer\";\r\n\r\ntype PropsType = {\r\n    state: Array<NewsStateType>\r\n    addNews: (url: string) => void\r\n}\r\n\r\nexport const News = React.memo((props: PropsType) => {\r\n\r\n    const {state, addNews} = props;\r\n\r\n    const [inputValue, setInputValue] = useState('');\r\n\r\n    const onChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.currentTarget) {\r\n            setInputValue(e.currentTarget.value);\r\n        }\r\n    };\r\n\r\n    const onClickHandler = () => {\r\n        if (inputValue.trim()) {\r\n            addNews(inputValue);\r\n        }\r\n    };\r\n\r\n    const mapState = state.map(item => {\r\n        return (\r\n            <div className={s.newsItem}>\r\n                <div>Url: <a href={item.url} target=\"_blank\" rel=\"noopener noreferrer\">{item.url}</a></div>\r\n                <div>Follow: {item.follow ? 'yes' : 'no'}</div>\r\n            </div>\r\n        );\r\n    });\r\n\r\n    return (\r\n        <div className={s.newsWrap}>\r\n            <h3>Add News:</h3>\r\n            <div className={s.addNewsBlock}>\r\n                <input type=\"text\" placeholder=\"Type url...\" value={inputValue} onChange={(e) => onChangeHandler(e)}/>\r\n                <button type=\"submit\" onClick={onClickHandler}>Add</button>\r\n            </div>\r\n            <h3>News:</h3>\r\n            {mapState}\r\n        </div>\r\n    );\r\n})\r\n","import { v1 } from \"uuid\";\r\n\r\nconst ADD_NEWS = 'ADD-NEWS';\r\n\r\ntype addNewsActionCreatorType = {\r\n    type: typeof ADD_NEWS\r\n    id: string\r\n    url: string\r\n    follow: boolean\r\n};\r\n\r\ntype ActionType = addNewsActionCreatorType;\r\n\r\nexport type DispatchTypeNewsReducer = (action: ActionType) => void;\r\n\r\nexport type NewsStateType = {\r\n    id: string\r\n    url: string\r\n    follow: boolean\r\n}\r\n\r\nconst initialState = [\r\n    {id: '55', url: 'https://css-tricks.com/where-do-you-learn-html-css-in-2019', follow: false},\r\n    {id: '52', url: 'https://reactjsnews.com/react-js-with-cloudinary', follow: false},\r\n    {id: '53', url: 'https://ru.reactjs.org/blog/2019/08/08/react-v16.9.0.html', follow: false},\r\n];\r\n\r\nexport const addNewsAC = (url: string): addNewsActionCreatorType => {\r\n  return {\r\n      type: ADD_NEWS,\r\n      id: v1(),\r\n      url: url,\r\n      follow: false\r\n  }\r\n};\r\n\r\nconst newsReducer = (state: Array<NewsStateType> = initialState, action: ActionType) => {\r\n    switch(action.type) {\r\n\r\n        case ADD_NEWS:\r\n            const newEntry = {id: action.id, url: action.url, follow: action.follow};\r\n            const stateCopy = [...state, newEntry];\r\n            return stateCopy;\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default newsReducer;","import {connect} from \"react-redux\";\r\nimport {News} from \"./News\";\r\nimport {DispatchTypeNewsReducer, addNewsAC} from \"./news-reducer\";\r\nimport { StateType } from \"../../redux/store\";\r\n\r\nconst mapStateToProps = (state: StateType) => {\r\n    return {\r\n        state: state.newsPage\r\n    }\r\n};\r\nconst mapDispatchToProps = (dispatch: DispatchTypeNewsReducer) => {\r\n    return {\r\n        addNews: (url: string) => dispatch(addNewsAC(url))\r\n    }\r\n};\r\n\r\nconst NewsContainer = connect(mapStateToProps, mapDispatchToProps)(News);\r\n\r\nexport default NewsContainer;","import React from 'react';\r\nimport {LoadingIcon} from \"../common/loadingIcon/LoadingIcon\";\r\n\r\ntype PropsType = {\r\n    //userId: number\r\n    lookingForAJob: boolean\r\n    fullName: string,\r\n    aboutMe: string,\r\n    status: string | null,\r\n    id: number\r\n}\r\n\r\nexport const UserProfile = (props: PropsType) => {\r\n    if (!props) {\r\n        return <LoadingIcon/>\r\n    }\r\n    return (\r\n        <>\r\n            {/*<div className={s.userProfileTitle}>userId: {userId}</div>*/}\r\n            <div>id: {props.id}</div>\r\n            <div>lookingForAJob: {props.lookingForAJob ? 'true' : 'false'}</div>\r\n            <div>fullName: {props.fullName}</div>\r\n            <div>about me: {props.aboutMe}</div>\r\n            <div>status: {props.status}</div>\r\n        </>\r\n    );\r\n};","import {UserProfileType} from \"./store\";\r\nimport {profileApi} from \"../api/api\";\r\n\r\ntype UserStatusType = {\r\n    status: string | null\r\n}\r\nexport type UserProfileStateType = {\r\n    userData: UserProfileType\r\n    userStatus: UserStatusType\r\n}\r\n\r\nconst SET_USER_PROFILE_DATA = 'SET-USER-PROFILE-DATA';\r\nconst SET_USER_STATUS = 'SET-USER-STATUS';\r\n\r\ntype SetUserDataACType = {\r\n    type: typeof SET_USER_PROFILE_DATA\r\n    userProfile: UserProfileType\r\n}\r\ntype SetUserStatusACType = {\r\n    type: typeof SET_USER_STATUS\r\n    status: string\r\n}\r\n\r\nexport const setUserProfileData = (userProfile: UserProfileType): SetUserDataACType => {\r\n    return {\r\n        type: SET_USER_PROFILE_DATA,\r\n        userProfile: userProfile,\r\n    }\r\n};\r\nexport const setUserStatus = (status: string): SetUserStatusACType => {\r\n    return {\r\n        type: SET_USER_STATUS,\r\n        status\r\n    }\r\n};\r\n\r\ntype ActionsType = SetUserDataACType | SetUserStatusACType;\r\n\r\nexport type DispatchTypeUsersReducer = (action: ActionsType) => void\r\n\r\nconst initState: UserProfileStateType = {\r\n    userData: {\r\n        aboutMe: 'test',\r\n        userId: 0,\r\n        lookingForAJob: false,\r\n        lookingForAJobDescription: 'test',\r\n        fullName: 'test',\r\n        contacts: {\r\n            github: 'github',\r\n            vk: 'vk',\r\n            facebook: 'facebook',\r\n            instagram: 'instagram',\r\n            twitter: 'twitter',\r\n            website: 'website',\r\n            youtube: 'youtube',\r\n            mainLink: 'mainLink',\r\n        },\r\n        photos: {\r\n            small: 'small',\r\n            large: 'large',\r\n        },\r\n    },\r\n    userStatus: {\r\n        status: \"\",\r\n    }\r\n};\r\n\r\nconst userProfile = (state: UserProfileStateType = initState, action: ActionsType) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_PROFILE_DATA:\r\n            return {...state, userData: action.userProfile};\r\n        case SET_USER_STATUS:\r\n            const stateCopy = {...state}\r\n            stateCopy.userStatus.status = action.status;\r\n            return stateCopy;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const getProfileThunkCreator = (userId: string) => async (dispatch: DispatchTypeUsersReducer) => {\r\n    const res = await profileApi.getProfile(userId);\r\n    dispatch(setUserProfileData(res.data));\r\n};\r\nexport const getStatusThunkCreator = (userId: string) => async (dispatch: DispatchTypeUsersReducer) => {\r\n    const res = await profileApi.getStatus(userId);\r\n    dispatch(setUserStatus(res.data));\r\n};\r\n\r\nexport default userProfile;","import {connect} from \"react-redux\";\r\nimport {StateType} from \"../../redux/store\";\r\nimport React, {Component} from \"react\";\r\nimport {UserProfile} from \"./UserProfile\";\r\nimport {getProfileThunkCreator, getStatusThunkCreator} from '../../redux/userProfile-reducer'\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\n\r\ntype MapStateToPropsType = {\r\n    lookingForAJob: boolean\r\n    fullName: string\r\n    aboutMe: string,\r\n    status: string | null,\r\n    id: number,\r\n}\r\ntype MapDispatchToPropsType = {\r\n    getProfileThunkCreator: (userId: string) => void\r\n    getStatusThunkCreator: (userId: string) => void\r\n}\r\ntype userIdParamType = {\r\n    userId: string\r\n}\r\ntype OwnPropsType = MapStateToPropsType & MapDispatchToPropsType;\r\ntype PropsType = RouteComponentProps<userIdParamType> & OwnPropsType;\r\n\r\nclass UserProfileContainer extends Component<PropsType> {\r\n\r\n    componentDidMount(): void {\r\n        const userId = this.props.match.params.userId;\r\n        this.props.getProfileThunkCreator(userId);\r\n        this.props.getStatusThunkCreator(userId);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <UserProfile {...this.props}/>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: StateType): MapStateToPropsType => {\r\n    return {\r\n        lookingForAJob: state.userProfilePage.userData.lookingForAJob,\r\n        fullName: state.userProfilePage.userData.fullName,\r\n        aboutMe: state.userProfilePage.userData.aboutMe,\r\n        status: state.userProfilePage.userStatus.status,\r\n        id: state.userProfilePage.userData.userId,\r\n    };\r\n};\r\n\r\nconst WithURLDataContainerComponent = withRouter(UserProfileContainer);\r\n\r\nexport default connect(mapStateToProps, {getProfileThunkCreator, getStatusThunkCreator})(WithURLDataContainerComponent);","import React from 'react';\r\nimport styles from './style.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype PropsType = {\r\n    id: number | null\r\n    email: string | null\r\n    login: string | null\r\n    isAuth: boolean\r\n    onLogoutClickHandler: () => void\r\n}\r\n\r\nexport const Header = React.memo((props: PropsType) => {\r\n\r\n    const {isAuth, onLogoutClickHandler} = props;\r\n\r\n    return (\r\n        <>\r\n            <header className={styles.header}>\r\n                <div className=\"container\">\r\n                    <div className={styles.headerContent}>\r\n                        <div className={styles.headerContent__logo}>Header</div>\r\n                        <div className={styles.headerContent__loginBlock}>\r\n                            {isAuth ? <p onClick={onLogoutClickHandler}>Logout</p> : <NavLink to={'/login'}>Login</NavLink>}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </header>\r\n        </>\r\n    );\r\n});\r\n","import {Component} from \"react\";\r\nimport React from \"react\";\r\nimport {Header} from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {authThunkCreator, logoutThunkCreator} from \"../login/auth-reducer\";\r\nimport {StateType} from \"../../redux/store\";\r\n\r\ntype PropsType = {\r\n    id: number | null\r\n    email: string | null\r\n    login: string | null\r\n    isAuth: boolean\r\n    authThunkCreator: () => void\r\n    logoutThunkCreator: () => void\r\n}\r\n\r\nclass HeaderContainer extends Component<PropsType> {\r\n\r\n    componentDidMount(): void {\r\n        this.props.authThunkCreator();\r\n    }\r\n\r\n    onLogoutClickHandler = () => {\r\n        this.props.logoutThunkCreator();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props} onLogoutClickHandler={this.onLogoutClickHandler}/>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state: StateType) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.payload.login,\r\n    email: state.auth.payload.email,\r\n    id: state.auth.payload.id,\r\n});\r\n\r\nexport default connect(mapStateToProps, {authThunkCreator, logoutThunkCreator})(HeaderContainer);","import React, {PropsWithChildren} from \"react\";\r\nimport s from './login.module.css'\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/formsControl/FormsControl\";\r\nimport {requiredField} from \"../../utils/validators/validators\";\r\nimport { connect } from \"react-redux\";\r\nimport {loginThunkCreator} from \"./auth-reducer\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport {StateType} from \"../../redux/store\";\r\n\r\ntype FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType>> = (props: PropsWithChildren<InjectedFormProps<FormDataType>>) => {\r\n\r\n    return (\r\n        <form className={s.loginForm} onSubmit={props.handleSubmit}>\r\n            <div className={s.loginFormGroup}>\r\n                <Field component={Input} name=\"email\" placeholder={'User Name'} validate={[requiredField]}/>\r\n            </div>\r\n            <div className={s.loginFormGroup}>\r\n                <Field component={Input} name=\"password\" type={'password'} placeholder={'Password'} validate={[requiredField]}/>\r\n            </div>\r\n            <div className={s.loginFormGroup}>\r\n                <Field component={Input} name=\"rememberMe\" type={'checkbox'} id={'loginCheckbox'}/>\r\n                <label htmlFor=\"loginCheckbox\">Remember me</label>\r\n            </div>\r\n            {\r\n                props.error &&\r\n                <div className={s.err}>\r\n                    {props.error}\r\n                </div>\r\n            }\r\n            <button className={s.loginFormSubmit}>Login</button>\r\n        </form>\r\n    );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm<FormDataType>({\r\n    form: 'LoginForm',\r\n})(LoginForm);\r\n\r\ntype PropsType = {\r\n    loginThunkCreator: (email: string, password: string, rememberMe: boolean) => void\r\n    isAuth: boolean\r\n}\r\n\r\nconst Login = (props: PropsType) => {\r\n\r\n    const onSubmit = (formData: FormDataType) => {\r\n        props.loginThunkCreator(formData.email, formData.password, formData.rememberMe);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={`/profile`}/>\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={s.loginFormTitle}>Login</div>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state: StateType) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {loginThunkCreator})(Login);","import {authThunkCreator} from \"../components/login/auth-reducer\";\r\nimport { ThunkAction, ThunkDispatch } from \"redux-thunk\";\r\nimport {AppRootState} from \"./redux-store\";\r\n\r\nconst INIT_APP = 'INIT_APP';\r\n\r\ntype InitAppACType = {\r\n    type: typeof INIT_APP;\r\n}\r\n\r\nconst initApp = (): InitAppACType => {\r\n    return {\r\n        type: INIT_APP,\r\n    }\r\n}\r\n\r\ntype ActionTypes = InitAppACType;\r\ntype DispatchType = (action: ActionTypes) => void;\r\n\r\nexport type InitStateType = {\r\n    init: boolean\r\n}\r\nconst initState = {\r\n    init: false,\r\n}\r\nexport const initReducer = (state: InitStateType = initState, action: ActionTypes) => {\r\n    switch (action.type) {\r\n        case INIT_APP:\r\n            return {...state, init: true};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\ntype ThunkType = ThunkAction<void, AppRootState, {}, ActionTypes>\r\nexport const initAppTC = (): ThunkType => (dispatch: ThunkDispatch<AppRootState, {}, ActionTypes>) => {\r\n    let promise = dispatch(authThunkCreator());\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initApp());\r\n    });\r\n};","import React, {Component} from 'react';\r\nimport './App.module.css';\r\nimport Footer from \"./components/footer/Footer\";\r\nimport Aside from \"./components/aside/Aside\";\r\nimport ProfileContainer from \"./components/profile/ProfileContainer\";\r\nimport {Dialogs} from \"./components/dialogs/Dialogs\";\r\nimport styles from './App.module.css'\r\nimport {Route, withRouter} from \"react-router-dom\";\r\nimport UsersContainer from \"./components/users/UsersContainer\";\r\nimport NewsContainer from \"./components/news/NewsContainer\";\r\nimport UserProfileContainer from \"./components/userProfile/UserProfileContainer\";\r\nimport HeaderContainer from './components/header/headerContainer';\r\nimport Login from \"./components/login/Login\";\r\nimport {connect} from \"react-redux\";\r\nimport {StateType} from \"./redux/store\";\r\nimport {initAppTC} from \"./redux/initReducer\";\r\nimport {compose} from 'redux';\r\nimport {LoadingIcon} from \"./components/common/loadingIcon/LoadingIcon\";\r\n\r\nclass App extends Component<MapStateToPropsType & MapDispatchToPropsType> {\r\n\r\n    componentDidMount() {\r\n        this.props.initAppTC();\r\n    }\r\n\r\n    render() {\r\n\r\n        if (!this.props.init) {\r\n            return <LoadingIcon/>\r\n        }\r\n\r\n        return (\r\n            <div className={styles.wrapper}>\r\n                <HeaderContainer/>\r\n                <div className=\"container\">\r\n                    <div className={styles.mainContent}>\r\n                        <Aside/>\r\n                        <div className={styles.contentInner}>\r\n                            <Route path=\"/profile\" render={() => <ProfileContainer/>}/>\r\n                            <Route path=\"/dialogs\" render={() => <Dialogs/>}/>\r\n                            <Route path=\"/users\" render={() => <UsersContainer/>}/>\r\n                            <Route path=\"/news\" render={() => <NewsContainer/>}/>\r\n                            <Route path=\"/userprofile/:userId\" render={() => <UserProfileContainer/>}/>\r\n                            <Route path=\"/login\" render={() => <Login/>}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\ntype MapStateToPropsType = {\r\n    init: boolean\r\n};\r\ntype MapDispatchToPropsType = {\r\n    initAppTC: () => void\r\n};\r\n\r\nconst mapStateToProps = (state: StateType): MapStateToPropsType => {\r\n    return {\r\n        init: state.initApp.init\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    withRouter,\r\n    connect(mapStateToProps, {initAppTC}))(App);\r\n\r\n","import {combineReducers, createStore, applyMiddleware} from \"redux\";\r\nimport {profileReducer} from \"../components/profile/profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport {usersReducer} from \"../components/users/users-reducer\";\r\nimport newsReducer from \"../components/news/news-reducer\";\r\nimport userProfile from \"./userProfile-reducer\";\r\nimport {authReducer} from \"../components/login/auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {accountReducer} from \"../components/profile/account-reducer\";\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport {initReducer} from \"./initReducer\";\r\n\r\nconst reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    messagesPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    newsPage: newsReducer,\r\n    userProfilePage: userProfile,\r\n    auth: authReducer,\r\n    accountReducer,\r\n    form: formReducer,\r\n    initApp: initReducer,\r\n});\r\n\r\nexport type AppRootState = ReturnType<typeof reducers>;\r\n\r\nexport const store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n","import React from 'react';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport {store} from './redux/redux-store'\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <Provider store={store}>\r\n            <App />\r\n        </Provider>\r\n    </BrowserRouter>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginFormTitle\":\"login_loginFormTitle__1FP85\",\"loginForm\":\"login_loginForm__1YEiM\",\"loginFormGroup\":\"login_loginFormGroup__3lyK9\",\"err\":\"login_err__1cQx5\",\"formGroup\":\"login_formGroup__1Ifar\",\"loginCheckbox\":\"login_loginCheckbox__1mHYo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"style_aside__1O5W9\",\"active\":\"style_active__2B2kQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"style_message__1k0WC\",\"message__avatar\":\"style_message__avatar__38-p0\",\"message__text\":\"style_message__text__-xREa\",\"message__content\":\"style_message__content__1XYJY\",\"message__author\":\"style_message__author__1-4dz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"App_wrapper__of1aH\",\"mainContent\":\"App_mainContent__LxTx1\",\"contentInner\":\"App_contentInner__UEMCU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userProfileTitle\":\"style_userProfileTitle__3KIpK\",\"userWrap\":\"style_userWrap__3PZIZ\",\"followBtn\":\"style_followBtn__1DQtV\",\"userDataField\":\"style_userDataField__1ZZU4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"style_header__1lrhM\",\"headerContent\":\"style_headerContent__3DENz\",\"headerContent__logo\":\"style_headerContent__logo__NRN-a\",\"headerContent__loginBlock\":\"style_headerContent__loginBlock__1F85n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogsBlock\":\"style_dialogsBlock__6xUC_\",\"dialogsBlockTitle\":\"style_dialogsBlockTitle__lGx6p\",\"dialogsContent\":\"style_dialogsContent__3eiki\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newsWrap\":\"News_newsWrap__1jE_1\",\"newsItem\":\"News_newsItem__3tdIK\",\"addNewsBlock\":\"News_addNewsBlock__2xz1-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"style_status__32rLM\",\"inputStatus\":\"style_inputStatus__2c_mp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsTitle\":\"style_postsTitle__3kyZC\",\"addPostBlock\":\"style_addPostBlock__1-V3f\",\"err\":\"style_err__qlRRH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formGroup\":\"FormsControl_formGroup__3v75J\",\"error\":\"FormsControl_error__b-rHG\",\"loginCheckbox\":\"FormsControl_loginCheckbox__3G4an\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsTitle\":\"style_postsTitle__1HHbc\",\"postsBlock\":\"style_postsBlock__3c1d0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userBlock\":\"style_userBlock__2x7G2\",\"active\":\"style_active__1gxdo\"};"],"sourceRoot":""}